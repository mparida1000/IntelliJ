package com.scaler.array;

public class N3RepeatNumber {
	
	public static int repeatedNumber(int[] A) {
        int n = A.length;
        int major1 = A[0];
        int major2 = A[0];
        int m1cnt = 1, m2cnt = 0;
        for(int i = 1; i < n ; i++){
            if(A[i] == major1){
                m1cnt++;
            }else if(A[i] != major1 && m2cnt == 0){
                major2 = A[i];
                m2cnt++;
            }else if(A[i] == major2) {
            	m2cnt++;
            }else if(m1cnt == 0) {
            	major1 = A[i];
            	m1cnt++;
            }else if(m1cnt == 0) {
            	major2 = A[i];
            	m2cnt++;
            }else {
            	m2cnt--;
            	m1cnt--;
            }
        }
        if(m1cnt > 0 || m2cnt > 0) {
        	int m1 = 0;
        	int m2 = 0;
        	for(int i = 0; i < n ; i++) {
        		if(A[i] == major1) m1++;
        		if(A[i] == major2) m2++;
        	}
        	if(m1 > n/3) return major1;
        	if(m2 > n/3) return major2;
        }
        return -1;
    }
	
	public static void main(String[] args) {
		int [] A = {1000697, 1000110, 1000110, 1000671, 1000941, 1000304, 1000110, 1000742, 1000160, 1000558, 1000110, 1000110, 1000110, 1000650, 1000200, 1000110, 1000133, 1000110, 1000548, 1000002, 1000397, 1000110, 1000533, 1000724, 1000110, 1000882, 1000110, 1000515, 1000110, 1000110, 1000110, 1000181, 1000051, 1000110, 1000110, 1000644, 1000110, 1000301, 1000110, 1000040, 1000424, 1000336, 1000426, 1000244, 1000485, 1000439, 1000554, 1000110, 1000110, 1000497, 1000836, 1000760, 1000110, 1000135, 1000872, 1000110, 1000739, 1000242, 1000790, 1000110, 1000384, 1000110, 1000384, 1000110, 1000713, 1000110, 1000110, 1000048, 1000110, 1000172, 1000727, 1000502, 1000649, 1000830, 1000387, 1000953, 1000110, 1000640, 1000291, 1000612, 1000389, 1000110, 1000698, 1000462, 1000054, 1000110, 1000110, 1000181, 1000221, 1000408, 1000110, 1000905, 1000110, 1000532, 1000939, 1000110, 1000817, 1000388, 1000069, 1000110, 1000163, 1000453, 1000847, 1000908, 1000395, 1000574, 1000127, 1000132, 1000110, 1000110, 1000201, 1000689};
		System.out.println(repeatedNumber(A));
	}

}
